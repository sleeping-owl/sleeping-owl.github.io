<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
		    <title>Form &ndash; SleepingOwl Admin</title>
	    <meta charset="utf-8"/>
    <meta name="description" content="Administrative interface builder for Laravel" />
    <meta name="author" content="Sleeping Owl">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../themes/daux-blue/css/daux-blue.css' rel='stylesheet' type='text/css'><link href='../themes/daux-blue/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
</head>
<body>
            <!-- Docs -->
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand pull-left" href="/">SleepingOwl Admin</a>
                    <p class="navbar-text pull-right" style="visibility:hidden">Generated by <a href="http://daux.io">Daux.io</a></p>
                </div>
            </div>
            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="../en/Introduction.html">Introduction</a></li><li><a href="#" class="aj-nav folder">Getting Started</a><ul class="nav nav-list"><li><a href="../en/Getting_Started/Installation.html">Installation</a></li><li><a href="../en/Getting_Started/Configuration.html">Configuration</a></li><li><a href="../en/Getting_Started/Menu_Configuration.html">Menu Configuration</a></li><li><a href="../en/Getting_Started/Model_Configuration.html">Model Configuration</a></li><li><a href="../en/Getting_Started/Routes_Configuration.html">Routes Configuration</a></li><li><a href="../en/Getting_Started/Authentication.html">Authentication</a></li><li><a href="../en/Getting_Started/Localization.html">Localization</a></li><li><a href="../en/Getting_Started/Validation.html">Validation</a></li></ul></li><li><a href="#" class="aj-nav folder">Commands</a><ul class="nav nav-list"><li><a href="../en/Commands/Install.html">Install</a></li><li><a href="../en/Commands/Model_Configuration_Generation.html">Model Configuration Generation</a></li><li><a href="../en/Commands/Administrators.html">Administrators</a></li></ul></li><li><a href="../en/Displays.html">Displays</a></li><li><a href="../en/Filters.html">Filters</a></li><li><a href="../en/Columns.html">Columns</a></li><li class="active"><a href="../en/Form.html">Form</a></li><li><a href="../en/License.html">License</a></li></ul>                                                    <div class="well well-sidebar">

                                <!-- Links -->
                                <i class="fa fa-fw fa-github"></i> <a href="https://github.com/sleeping-owl/admin/tree/development" target="_blank">GitHub Repo</a><br><i class="fa fa-fw fa-desktop"></i> <a href="http://sleepingowladmindemo2.cloudcontrolled.com" target="_blank">Live Demo</a><br>                                
                                <!-- Twitter -->
                                                            </div>
                                            </div>
                </div>
                <div class="right-column  content-area col-sm-9">
                    <div class="content-page">
                        <article>
                                                            <div class="page-header">
                                    <h1>Form                                                                            </h1>
                                </div>
                            
                            <p>Form can be any of <a href="Displays.html">supported display types</a> or form itself. You can combine forms with displays as you want.</p>
<pre><code class="language-php">..-&gt;createAndEdit(function ()
{
    $form = AdminForm::form();
    $form-&gt;items([
        // create form items here
    ]);
    return $form;
})</code></pre>
<h2>Form Items</h2>
<p>You can create form item with the following code:</p>
<pre><code class="language-php">FormItem::{type}('{field name}', '{label}')</code></pre>
<h3>Supported Form Items</h3>
<ul>
<li><a href="#columns">columns</a></li>
<li><a href="#text">text</a></li>
<li><a href="#textaddon">textAddon</a></li>
<li><a href="#hidden">hidden</a></li>
<li><a href="#checkbox">checkbox</a></li>
<li><a href="#date">date</a></li>
<li><a href="#time">time</a></li>
<li><a href="#timestamp">timestamp</a></li>
<li><a href="#file">file</a></li>
<li><a href="#image">image</a></li>
<li><a href="#images">images</a></li>
<li><a href="#select">select</a></li>
<li><a href="#multiselect">multiselect</a></li>
<li><a href="#radio">radio</a></li>
<li><a href="#textarea">textarea</a></li>
<li><a href="#ckeditor">ckeditor</a></li>
<li><a href="#custom">custom</a></li>
<li><a href="#view">view</a></li>
</ul>
<h3>Validation</h3>
<pre><code class="language-php">FormItem::text('title')-&gt;required()-&gt;unique()-&gt;validationRule('my-custom-rule')</code></pre>
<p>See <a href="Getting_Started/Validation.html">details</a> about validation.</p>
<h3>Default Value</h3>
<p>You can set default value for form element.</p>
<pre><code class="language-php">FormItem::text('title')-&gt;defaultValue('My new item title')</code></pre>
<h3>Register Custom Form Item</h3>
<p>You can register your own form elements in <code>bootstrap.php</code> file within <code>bootstrapDirectory</code> (<em>default is <code>app/admin/bootstrap.php</code></em>).</p>
<pre><code class="language-php">FormItem::register('{type}', 'App\MyFormItem')</code></pre>
<p>Your class must extend <code>SleepingOwl\Admin\FormItems\BaseFormItem</code> (if you dont want to get value from your instance by name) or <code>SleepingOwl\Admin\FormItems\NamedFormItem</code> (in opposite case).</p>
<h3>Adding Custom Scripts and Styles</h3>
<p>You can add custom scripts and styles to the page header, that uses your custom form element.</p>
<pre><code class="language-php">public function initialize()
{
    parent::initialize();

    AssetManager::addScript(asset('my.js'));
    AssetManager::addStyle(asset('my.css'));
}</code></pre>
<h3>Example</h3>
<p>bootstrap.php</p>
<pre><code class="language-php">FormItem::register('myItem', 'Acme\MyItem')</code></pre>
<p>Acme/MyItem.php</p>
<pre><code class="language-php">use SleepingOwl\Admin\FormItems\NamedFormItem;

class MyItem extends NamedFormItem
{

    public function render()
    {
        $params = $this-&gt;getParams();
        // $params will contain 'name', 'label', 'value' and 'instance'
        return view('my-form-item-view, $params);
    }

}</code></pre>
<p>Usage in model configuration</p>
<pre><code class="language-php">FormItem::myItem('field')-&gt;label('My Label');</code></pre>
<hr />
<p><a name="columns"></a></p>
<h1>Columns</h1>
<p>Creates multicolumn form. Use <code>columns()</code> method to divide form items onto columns.</p>
<pre><code class="language-php">FormItem::columns()-&gt;columns([
    [
        FormItem::...
    ],
    [
        ...
    ],
])</code></pre>
<hr />
<p><a name="text"></a></p>
<h1>Text</h1>
<p>Creates text input.</p>
<pre><code class="language-php">FormItem::text('title', 'Title')</code></pre>
<hr />
<p><a name="textaddon"></a></p>
<h1>TextAddon</h1>
<p>Creates text input with addon in front or end.</p>
<p>Default placement is <code>before</code>.</p>
<pre><code class="language-php">FormItem::textAddon('url', 'Url')-&gt;addon('http://my-site.com/')-&gt;placement('before')
FormItem::textAddon('price', 'Price')-&gt;addon('$')-&gt;placement('after')</code></pre>
<hr />
<p><a name="hidden"></a></p>
<h1>Hidden</h1>
<p>Creates hidden input. Usefull with table display parameters (<a href="Displays.html#table">see details</a>).</p>
<pre><code class="language-php">FormItem::hidden('field')</code></pre>
<hr />
<p><a name="checkbox"></a></p>
<h1>Checkbox</h1>
<p>Creates checkbox with label.</p>
<pre><code class="language-php">FormItem::checkbox('active', 'Active')</code></pre>
<hr />
<p><a name="date"></a></p>
<h1>Date</h1>
<p>Creates date input.</p>
<pre><code class="language-php">FormItem::date('date', 'Date')</code></pre>
<p>Default format is described in <a href="Getting_Started/Configuration.html">config</a> <code>dateFormat</code> property. You can override it using <code>format($format)</code> method.</p>
<pre><code class="language-php">FormItem::date('date', 'Date')-&gt;format('d.m.Y')</code></pre>
<hr />
<p><a name="time"></a></p>
<h1>Time</h1>
<p>Creates time input.</p>
<pre><code class="language-php">FormItem::time('time', 'Time')</code></pre>
<p>Default format is described in <a href="Getting_Started/Configuration.html">config</a> <code>timeFormat</code> property. You can override it using <code>format($format)</code> method.</p>
<pre><code class="language-php">FormItem::time('time', 'Time')-&gt;format('H:i')</code></pre>
<h4>Display Seconds</h4>
<pre><code class="language-php">FormItem::time('time', 'Time')-&gt;format('H:i:s')-&gt;seconds(true)</code></pre>
<hr />
<p><a name="timestamp"></a></p>
<h1>Timestamp</h1>
<p>Creates timestamp input.</p>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')</code></pre>
<p>Default format is described in <a href="Getting_Started/Configuration.html">config</a> <code>datetimeFormat</code> property. You can override it using <code>format($format)</code> method.</p>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')-&gt;format('d.m.Y H:i')</code></pre>
<h4>Display Seconds</h4>
<pre><code class="language-php">FormItem::timestamp('timestamp', 'Timestamp')-&gt;format('d.m.Y H:i:s')-&gt;seconds(true)</code></pre>
<hr />
<p><a name="file"></a></p>
<h1>File</h1>
<p>Creates file input. File will be uploaded to <code>imagesUploadDirectory</code> from <a href="Getting_Started/Configuration.html">config</a>. If you want another place to store your files - handle it by yourself in your model.</p>
<pre><code class="language-php">FormItem::file('file', 'File')</code></pre>
<hr />
<p><a name="image"></a></p>
<h1>Image</h1>
<p>Creates image input with preview. Image will be uploaded to <code>imagesUploadDirectory</code> from <a href="Getting_Started/Configuration.html">config</a>. If you want another place to store your images - handle it by yourself in your model.</p>
<pre><code class="language-php">FormItem::image('photo', 'Photo')</code></pre>
<hr />
<p><a name="images"></a></p>
<h1>Images</h1>
<p>Creates images input with preview. Images will be uploaded to <code>imagesUploadDirectory</code> from <a href="Getting_Started/Configuration.html">config</a>. If you want another place to store your images - handle it by yourself in your model.</p>
<p>Your model must implement <a href="http://laravel.com/docs/5.0/eloquent#accessors-and-mutators">field accessors</a> on this field and return array of image urls and save array as a value.</p>
<pre><code class="language-php">FormItem::images('photos', 'Photos')</code></pre>
<p>The simplest way to load and store images is <code>text</code> field with accessors:</p>
<pre><code class="language-php">public function getPhotosAttribute($value)
{
    return preg_split('/,/', $value, -1, PREG_SPLIT_NO_EMPTY);
}

public function setPhotosAttribute($photos)
{
    $this-&gt;attributes['photos'] = implode(',', $photos);
}</code></pre>
<hr />
<p><a name="select"></a></p>
<h1>Select</h1>
<p>Creates select input.</p>
<pre><code class="language-php">FormItem::select('category_id', 'Category')</code></pre>
<h4>Providing Data</h4>
<p>With array:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>With enum (use array values as keys):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>With model:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h4>Nullable Field</h4>
<p>You can mark select to be nullable:</p>
<pre><code class="language-php">…-&gt;nullable()</code></pre>
<hr />
<p><a name="multiselect"></a></p>
<h1>Multiselect</h1>
<p>Creates multiple select input.</p>
<pre><code class="language-php">FormItem::multiselect('categories', 'Categories')</code></pre>
<h4>Providing Data</h4>
<p>With array:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>With enum (use array values as keys):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>With class:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h4>Saving Data</h4>
<p>Create new mutator method in your model. Here is an example:</p>
<pre><code class="language-php">public function setCategoriesAttribute($categories)
{
    $this-&gt;categories()-&gt;detach();
    if ( ! $categories) return;
    if ( ! $this-&gt;exists) $this-&gt;save();

    $this-&gt;categories()-&gt;attach($categories);
}</code></pre>
<p><code>categories()</code> method creates <code>belongs-to-many</code> relation in this case.</p>
<hr />
<p><a name="radio"></a></p>
<h1>Radio</h1>
<p>Creates radio input.</p>
<pre><code class="language-php">FormItem::radio('category_id', 'Category')</code></pre>
<h4>Providing Data</h4>
<p>With array:</p>
<pre><code class="language-php">-&gt;options([1 =&gt; 'First', 2 =&gt; 'Second', 3 =&gt; 'Third])</code></pre>
<p>With enum (use array values as keys):</p>
<pre><code class="language-php">-&gt;enum(['First', 'Second', 'Third])</code></pre>
<p>With model:</p>
<pre><code class="language-php">-&gt;model('App\MyModel')-&gt;display('title')</code></pre>
<h4>Nullable Field</h4>
<p>You can mark radio element to be nullable:</p>
<pre><code class="language-php">…-&gt;nullable()</code></pre>
<hr />
<p><a name="textarea"></a></p>
<h1>Textarea</h1>
<p>Creates textarea.</p>
<pre><code class="language-php">FormItem::textarea('text', 'Text')</code></pre>
<hr />
<p><a name="ckeditor"></a></p>
<h1>CKEditor</h1>
<p>Creates ckeditor instance.</p>
<pre><code class="language-php">FormItem::ckeditor('text', 'Text')</code></pre>
<hr />
<p><a name="custom"></a></p>
<h1>Custom</h1>
<p>Creates custom form item. You must specify display method (<code>display()</code>) and save method (<code>callback()</code>).</p>
<pre><code class="language-php">FormItem::custom()-&gt;display(function ($instance)
{
    return view('my-form-item', ['instance' =&gt; $instance]);
})-&gt;callback(function ($instance)
{
    $instance-&gt;myField = 12;
})</code></pre>
<hr />
<p><a name="view"></a></p>
<h1>View</h1>
<p>Insert your custom view. You can write there anything you want and insert scripts. View will be rendered with <code>$instance</code> variable.</p>
<pre><code class="language-php">FormItem::view('admin.article.view')</code></pre>                        </article>
                    </div>
                </div>
            </div>
        </div>
    
        

    <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined')
                document.write(unescape("%3Cscript src='../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
    
    <!-- hightlight.js -->
    <script src="../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <!-- Front end file editor -->
        <script src="../js/custom.js"></script>
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>

